---
title: "芒格投资哲学"
date: 2023-07-22
tags:
  - 投资 
description: "芒格投资哲学"
images:
  - weekly1/img1.jpg
---

### 一、随便聊聊
本周杭州下了几场大暴雨，来杭州快10年了，第一次见这么大暴雨。杭州每次大雨必堵车，这次大雨让很多隧道积水，地下停车积水，路面积水也不足为奇了。好在我上班近，走路上下班，没那么烦恼。
上周买了200多RMB的书籍，书单基本都是别人推荐的，最近涉及的领域主要是投资、编程算法、旅行小说、个人传记、名著之类的，后续我的读书笔记都会有涉及。我一般看完书，就会规划买下一批书籍，是我为数不多的消费和乐趣。
本周健身不那么规律，下班后2次室内健身操，3次早上俯卧撑20个左右。本人体重在67kg左右（身高170cm），希望能更瘦一些。

### 三、本周编程
> 本周业余时间编程不多，研究基本的数据和算法，主要是跳表这个数据结构，重新学习图的存储和遍历。前端领域因为工作中用的多，后续有时间慢慢写。

数据结构是为算法服务的。最近对这句话有更深的理解。
比如跳表这个数据结构，能快速插入、删除、查找，它的平均时间复杂度O(logn)，当然最差也是O(logn)（退化为普通链表）。它的算法图解：

{{< img src="img2.jpg" alt="跳表算法图解" maxWidth="960px" align="center" caption="跳表算法图解" >}}

想到快速查找、删除、插入，很快能想到的是红黑树和哈希表。那么跳表的优势是什么？跳表能保证有序性，所以范围查找更具备优势。红黑树实现起来更复杂。邻接表的链表可以用跳表替换，另外数据库索引也是采用了跳表实现高效查找。
跳表本质上是链表，在上图可以看到每个节点除了数字，还有黑色小圆点，这里的黑色小圆点的作用是保存下一个节点的指针。所以每个节点的数据结构：
```js
class Node {
    constructor() {
        this.data = -1; // 数据
        this.forwards = new Array(this.MAX_LEVEL);// 黑色小圆点
        this.maxLevel = 0;
    }
}
```

这样简单数据结构就可以满足跳表的算法（见图解），非常简单有没有！
具体实现插入、删除函数时，还需要辅助数据结构。这里关键的是：update数组存储search path，update数据长度是层级的大小。为什么要这个辅助数据结构，因为插入删除操作需要调整指针，没有这个数组，你不知道当前搜索位置在哪里，当前层级的下一个节点是哪个，也就无从插入和删除了，所以它是必要的。
从这个案例上，数据结构的确是为了算法服务的。因为我们需要实现不同层级黑色小圆点，所以设计了forwards数组，然后因为要保存搜索位置，所以设计了update数组。

图的存储和遍历 VS 树的存储和遍历 数据结构有什么区别？
这里的图是有向无环图。树的遍历有两种，一种是广度一种是深度。广度可以理解为按层遍历，就像把一层的房间都看一遍，再到第二层看房间，深度可以理解为走迷宫，是一条路走到黑，走完以后再回来走另一条路（这个也称之为回溯算法），树的前中后序遍历都属于深度，它们的不同点在于节点访问顺序不同。这两种算法在图也适用。数据结构上稍有不同。

图的话存储是用的邻接表（数组+链表）和邻接矩阵（二维数组）数据结构

```js
class Graph {
    constructor(v) {
        this.v = v;
        this.adj = new Array(v); // 邻接表（数组）
        for (let i = 0; i < v; ++i) {
            this.adj[i] = new LinkedList(); // 链表或者跳表
        }
    }
}

class Graph {
    constructor(v) {
        this.v = v;
        this.adj = new Array(v); // 邻接矩阵（二维数组）
        for (let i = 0; i < v; ++i) {
            this.adj[i] = [];
        }
    }
}

```
树存储的话比较简单，变量存左右指针或者数组存左右指针。
在实际遍历的时候，广度遍历需要借助queue队列，作为辅助数据结构，为什么需要队列？一是我们需要存储每层的节点，二是需要保持遍历顺序，队列刚好满足这个特性。因为图可能存在环，我们借助visited数组判断是否访问过，而树不需要。如果有需要可以通过prev数组保存访问路径。
简单的数据结构能够实现复杂的算法，关键是对数据结构有深入的理解，加上对算法的理解，就可以写出好的代码。

### 四、本周投资
> 本周用部分工资收入，加仓了分众传媒和海康威视，资金量比较小。

这两家公司分众的现金流非常好远大于利润，生意模式看，目前建立了比较深的行业地位，竞争对手比较难进入，看好中国经济，另外海外还在扩张，价格不那么贵。海康现金流差一些，生意更难一些，但是好在有比较出色的管理层、公司文化，当然还有国企背景优势地位。这两家公司还在过渡研究阶段，后面保不齐会换仓。我大头都买了茅台，茅台大家觉得现在股价很高，ROI不是那么高了，但是我作为长期持有，相信我不在了估计茅台还会存在。

因为刚毕业就进入了同花顺（金融资讯信息服务提供商），所以接触股票时间大概近10年了，经历了一次15年左右牛市和后来的一次熊市。我对股票的理解是，如果挑选不到好的公司，那还不如买指数。股市对于普通人来说还是有门槛的，不是谁都能懂的，赚钱也不那么容易。所以我才不断地理解财报，看书籍，希望能懂公司，更懂生意。
我大概能懂我买的是什么价值（还需学习），长期来看赚的是公司利润未来现金流折现，安全边际依赖我对公司的生意的理解以及买入的价格，不会频繁交易买卖（除非股价很高，会卖出一部分，但不会清仓）。我买的股票用的都是我的闲钱，没有杠杠，所以基本不会被动交易，这一点非常重要。

“All Cash Is Equal”，持有现金是不合理的，因为大环境下现金必然是贬值的，持有股权长期看更优，但是要能承受波动风险。

为什么股价很高需要卖出？当达到什么价格的时候卖出部分？股价很高意味着，我卖出一部分股票得到的现金*存定期比如3%的无风险收益率每年的收益 VS 我这部分股票*正常情况下每股收益，如果前者更多，那么我应该选择现金+定期，因为它是稳定的无风险收益。这里只涉及基础的代数运算。

**声明：本文不构成任何投资意见，请慎重决定自己的投资。**

感谢阅读，祝周末愉快～！


