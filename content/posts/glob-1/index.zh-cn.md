---
title: "Glob 模式详解"
date: 2025-02-06
---

## 目录
1. [Glob 模式简介](#glob-模式简介)
2. [特殊语法解析](#特殊语法解析)
   - [@() 语法](#-语法)
3. [示例解析](#示例解析)
4. [总结](#总结)

---

## Glob 模式简介

Glob 是一种用于匹配文件路径的模式语言，广泛应用于文件搜索、构建工具（如 Webpack、ESLint）以及脚本中。它通过简单的通配符和模式表达式，能够快速定位符合特定规则的文件。

常见的通配符包括：
- `*`：匹配任意数量的字符（不包括路径分隔符 `/`）。
- `**`：匹配任意数量的字符（包括路径分隔符 `/`）。
- `?`：匹配单个字符。
- `[]`：匹配括号内的任意一个字符。
- `{}`：匹配大括号内的任意一个模式（逗号分隔）。
- `@()`：匹配括号内的任意一个模式（管道符分隔）。

---

## 特殊语法解析

### @() 语法

`@()` 是 Glob 模式中的一种高级语法，用于匹配括号内用管道符 `|` 分隔的多个模式之一。它的作用类似于正则表达式中的 `(pattern1|pattern2)`。

#### 语法格式
```bash
@(<pattern1>|<pattern2>|...)
```

- `@()` 中的每个模式可以是文件名、扩展名或路径的一部分。
- 匹配时，只要文件路径符合括号内的任意一个模式即可。

---

## 示例解析

以下是一个具体的 Glob 模式示例及其解析：

```bash
eslint '@(src|docs)/**/*.@(js|jsx|md)'
```

### 解析
1. **`@(src|docs)`**  
   匹配 `src` 或 `docs` 文件夹。  
   - `src` 和 `docs` 是两个备选路径。
   - 只有这两个文件夹下的内容会被匹配。

2. **`/**/`**  
   匹配任意层级的子目录。  
   - `**` 表示递归匹配所有子目录。
   - 例如，`src/utils/helper.js` 和 `docs/guide/README.md` 都会被匹配。

3. **`*.@(js|jsx|md)`**  
   匹配以 `.js`、`.jsx` 或 `.md` 结尾的文件。  
   - `*` 表示文件名部分可以是任意字符。
   - `.@(js|jsx|md)` 表示文件扩展名必须是 `js`、`jsx` 或 `md`。

### 匹配结果
假设项目结构如下：
```
project/
├── src/
│   ├── index.js
│   ├── utils/
│   │   └── helper.jsx
├── docs/
│   ├── README.md
│   └── guide/
│       └── tutorial.md
├── test/
│   └── example.js
```

运行上述命令后，匹配到的文件为：
- `src/index.js`
- `src/utils/helper.jsx`
- `docs/README.md`
- `docs/guide/tutorial.md`

注意：`test/example.js` 不会被匹配，因为它不在 `src` 或 `docs` 文件夹下。

---

## 总结

Glob 模式是一种强大且灵活的文件匹配工具，特别适合在命令行工具或配置文件中使用。本文重点介绍了 `@()` 语法及其应用场景，并通过具体示例解析了其工作原理。掌握 Glob 模式可以帮助您更高效地管理文件和构建流程。