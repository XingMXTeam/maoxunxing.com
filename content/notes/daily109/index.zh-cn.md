---
title: "字典与哈希表的实现"
date: 2019-11-25
tags:
  - Data Structures
  - Algorithms
  - Programming
---

## **1. 字典的定义**

- **字典**是一种抽象数据类型，它维护一个包含 `key` 的元素集合，支持以下操作：
  - **`insert(item)`**：插入一个元素。如果 `key` 已存在，则覆盖原有值。
  - **`delete(item)`**：删除指定 `key` 的元素。
  - **`search(key)`**：返回与 `key` 对应的元素，或者告知该 `key` 不存在。

---

## **2. 使用数组实现哈希表**

### **2.1 存在的问题**

- **问题 1**：`keys` 可能不是整数。  
  - 数组索引通常要求为整数，直接使用非整数 `key` 会导致问题。
- **问题 2**：数组空间占用可能很大。  
  - 如果直接将 `key` 作为数组索引，可能会导致数组空间浪费（稀疏数组）。

---

## **3. 哈希函数的作用**

- **核心思想**：通过散列函数计算 `key` 的哈希值，解决上述问题。
- **性质**：如果两个 `key` 相同，那么它们的哈希值一定相同。  
  - 即：`hash(x) = hash(y) <==> x = y`

---

## **4. 哈希表的实现方案**

### **4.1 链表实现（链地址法）**

- **最差情况**：时间复杂度为 `θ(n)`。
- **性能分析**：
  - 设有 `n` 个 `keys` 和 `m` 个插槽，则链表的预期长度为 `α = n / m`。
  - **运行时间**：`O(1 + α)`。
    - `1` 表示计算哈希值的时间。
    - `α` 表示链表中查找的时间。

---

## **5. 常见的散列函数**

### **5.1 除法散列法**

- **描述**：将 `key` 除以插槽数 `m`，取余数作为哈希值。
- **公式**：
  ```plaintext
  hash(key) = key mod m
  ```

---

### **5.2 乘法散列法**

- **公式**：
  ```plaintext
  h(k) = [(a * k) mod 2^w] >> (w - r)
  ```
- **参数说明**：
  - `a`：一个小于 `2^w` 的常数。
  - `k`：输入的 `key`。
  - `w`：计算机的字长（如 32 或 64 位）。
  - `r`：输出哈希值的位数。
- **步骤**：
  1. 计算 `(a * k) mod 2^w`。
  2. 将结果右移 `(w - r)` 位，得到最终的哈希值。

---

### **5.3 全域散列法（Universal Hashing）**

- **特点**：
  - 在全域散列法中，从一组散列函数中随机选择一个散列函数。
  - 这种方法可以有效减少冲突的概率，尤其在对抗恶意输入时表现良好。
